<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="style.css" rel="stylesheet">
    <script src="jquery.min.js"></script>
    <script src="encrypt.js"></script>
</head>
<body>
    <div class="center top-relative">
        <div class="content voilet2">
            <span>Category</span>
            <div class="content voilet2">
            </div>
            <form id="categoryform"> 
              <label><input type="radio" name="category" id="grocery" value="Grocery" checked="true">Groceries</label>
              <label><input type="radio" name="category" id="phonecall" value="Call" >Call</label>
              <label><input type="radio" name="category" id="email" value="Email" >Email</label>
              <label><input type="radio" name="category" id="reminder" value="Reminder" >Reminder</label>
              <label><input type="radio" name="category" id="foodforthought" value="Food for thought" >Food for thought</label>
              <label><input type="radio" name="category" id="other" value="Other" >Other</label>
              <div class="content voilet2">
              </div>
               <div id="newcategorydiv"> 
                <label>New Category </label>
                <textarea id="newcategory"></textarea>
               </div>
               <div class="content voilet2">
              </div>
               <div id="subcategorydiv"> 
               <label>Sub-Category (sub1/sub2)</label>
               <textarea id="subcategory"></textarea>
              </div>
            </form>
        </div>

        <div class="content voilet2">
          <form id="thoughtoraction"> 
            <label><input type="radio" name="thoughtoraction" id="thought" value="Thought" checked="true">Thought</label>
            <label><input type="radio" name="thoughtoraction" id="action" value="Action" >Action</label>
            <textarea id="content"></textarea>
          </form>
        </div>
        <div class="content voilet2">
          <button class="submit" id="submitthought">Submit</button>
        </div>
        <button class="encrypt" id="submitencryptedthought">Submit Encrypted</button>
        <div class="content voilet2">
          <span>Enter Password for Encryption</span>
            <input class="f15pt" type="password" id="passcode" placeholder="password" />
          </div>
    </div>
    <script>
        var cors_api_url = 'https://cors-anywhere.herokuapp.com/';
        function doCORSRequest(options, printResult) {
          var x = new XMLHttpRequest();
          x.open(options.method, cors_api_url + options.url);
          x.onload = x.onerror = function() {
            printResult(
              options.method + ' ' + options.url + '\n' +
              x.status + ' ' + x.statusText + '\n\n' +
              (x.responseText || '')
            );
          };
          if (/^POST/i.test(options.method)) {
            x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          }
          x.send(options.data);
        }

        // Bind event
        (function() {
          var printResult = function(result) {
            $('#categoryform').trigger("reset");
            $('#thoughtoraction').trigger("reset");
            location.reload();
          };
          document.getElementById('submitthought').onclick = function(e) {      
            e.preventDefault();
            options = webdevencrypt.getOptions(encrypt=false)
            doCORSRequest(options, printResult);
          };
          document.getElementById('submitencryptedthought').onclick = function(e) {      
            e.preventDefault();
            options = webdevencrypt.getOptions(encrypt=true)
            doCORSRequest(options, printResult);
          };

        })();
    </script>
</body>
 
</html>
